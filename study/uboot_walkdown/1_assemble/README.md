# 常用ARM汇编指令

## 相对跳转指令：b、bl
这两条指令的不同之处在于bl指令除了跳转之外，还将返回地址（bl的下一条指令的地址）保存在lr寄存器中。

这两条地址的可跳转范围是当前指令的前后32MB。

它们是位置无关的指令。

使用示例：
b fun1
...
fun1:
  bl fun2
...
fun2:
...

## 数据传送指令mov，地址读取伪指令ldr
mov指令可以把一个寄存器的值赋给另一个寄存器，或者把一个常数赋给寄存器。

mov r1, r2 // r1 = r2
mov r1, #4096 // r1 = 4096

mov指令传送的常数必须能用立即数来表示。

当不知道一个数能否用立即数来表示时，可以使用ldr命令来赋值。ldr是伪指令，它不是真实存在的指令，编译器会把它扩展成真正的指令：
1. 如果该常数能用“立即数”来表示，使用mov指令；
2. 否则编译时将该常数保存在某个位置，使用内存读取指令把它读出来。

例子如下：
  ldr r1, =4097 // r1=4097

ldr本意为“大范围的地址读取伪指令”，上面的例子使用它将常数赋给寄存器r1.下面的例子是获得代码的绝对地址：
  ldr r1, =label
label:
...

## 内存访问指令：ldr、str、ldm、stm

注：ldr指令可能是前面所说的大范围的地址读取伪指令，也可能是内存访问指令。当它的第二个参数前面有“=”时，表示伪指令，否则表示内存访问指令。

ldr指令从内存中
